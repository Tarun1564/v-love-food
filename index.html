<!doctype html>
<html lang="en">
<head>
Â  <meta charset="utf-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1" />
Â  <title>V Love Food â€” Online Store</title>
Â  
  <!-- Favicon using a data URI (Red Chili emoji) -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸŒ¶ï¸</text></svg>">
Â Â 
Â  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Load Inter Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  
Â  <style>
Â  Â  /* Custom styles */
    body { font-family: 'Inter', sans-serif; }
    
Â  Â  .product-card { 
        min-height: 100%; 
        transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        border-radius: 1rem;
    }
Â  Â  .modal-backdrop { 
        background: rgba(0,0,0,0.45); 
        position: fixed; 
        inset: 0;
    }
Â  Â  
    /* Custom notification box styles */
    .custom-notification {
        position: fixed;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 90%;
        max-width: 400px;
        z-index: 60;
    }
    
Â  Â  /* tiny helper to visually hide elements but keep accessible */
Â  Â  .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
Â  </style>
</head>
<body class="bg-gray-50 text-gray-800 antialiased">

Â  <header class="sticky top-0 z-40 bg-white/90 backdrop-blur-sm border-b border-gray-100">
Â  Â  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
Â  Â  Â  <div class="flex items-center justify-between h-16">
Â  Â  Â  Â  <div class="flex items-center space-x-3">
Â  Â  Â  Â  Â  <img class="text-2xl font-extrabold tracking-tight" src="assets/1.jpg" width="100" height="40" alt="V Love Food Logo">
Â  Â  Â  Â  Â  <span class="text-sm text-gray-500 hidden sm:inline">Handmade pickles â€¢ sweets â€¢ powders</span>
          <span class="text-sm text-gray-500 sm:hidden">Handmade Food</span>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div class="flex items-center space-x-4">
Â  Â  Â  Â  Â  <div class="hidden sm:flex flex-col text-right">
Â  Â  Â  Â  Â  Â  <span class="text-sm font-medium">Order / WhatsApp</span>
Â  Â  Â  Â  Â  Â  <a href="tel:+919346445057" class="text-indigo-600 text-sm font-semibold hover:text-indigo-700">+91 93464 45057</a>
Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  <button id="open-catalog-btn" class="inline-flex items-center px-3 py-2 rounded-md bg-indigo-600 text-white text-sm shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500">View Catalog</button>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  </div>
Â  </header>

Â  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h1 class="text-3xl sm:text-4xl font-extrabold text-center text-gray-900 mb-8">Authentic Indian Delights</h1>

Â  Â  <section id="products-grid" class="space-y-8">
Â  Â  Â  <!-- Categories and products will be rendered here -->
Â  Â  </section>

Â  </main>

Â  <!-- Purchase Modal (hidden by default) -->
Â  <div id="purchase-modal" class="fixed inset-0 z-50 hidden" role="dialog" aria-modal="true" aria-labelledby="orderModalLabel">
Â  Â  <div class="modal-backdrop absolute inset-0" tabindex="-1"></div>
Â  Â  <div class="relative max-w-md mx-auto mt-20 sm:mt-28 p-4">
Â  Â  Â  <div class="bg-white rounded-2xl shadow-2xl overflow-hidden ring-4 ring-indigo-500/20">
Â  Â  Â  Â  <div class="p-6">
Â  Â  Â  Â  Â  <h2 id="orderModalLabel" class="text-xl font-bold text-gray-900">Confirm Your Order</h2>
Â  Â  Â  Â  Â  <p id="modal-product-summary" class="text-sm text-gray-600 mt-2 font-medium border-b pb-3 mb-4"> </p>

Â  Â  Â  Â  Â  <form id="order-form" class="space-y-3">
Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  <label class="sr-only" for="modal-name">Name</label>
Â  Â  Â  Â  Â  Â  Â  <input id="modal-name" name="name" type="text" placeholder="Your Name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:outline-none" required />
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  <label class="sr-only" for="modal-phone">Phone</label>
Â  Â  Â  Â  Â  Â  Â  <input id="modal-phone" name="phone" type="tel" placeholder="Phone (10 digits, e.g. 98xxxxxxxx)" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:outline-none" inputmode="tel" required />
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  <label class="sr-only" for="modal-address">Address</label>
Â  Â  Â  Â  Â  Â  Â  <textarea id="modal-address" name="address" rows="3" placeholder="Shipping address" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:outline-none" required></textarea>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="flex items-center space-x-2 pt-2">
Â  Â  Â  Â  Â  Â  Â  <label class="flex items-center text-sm text-gray-600">
Â  Â  Â  Â  Â  Â  Â  Â  <input id="save-info" type="checkbox" class="mr-2 h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500" /> Save details for next time
Â  Â  Â  Â  Â  Â  Â  </label>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div class="mt-4 grid grid-cols-2 gap-3 pt-4 border-t">
Â  Â  Â  Â  Â  Â  Â  <button id="cancel-purchase-btn" type="button" class="w-full inline-flex justify-center items-center gap-2 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg font-semibold hover:bg-gray-300 focus:outline-none">Cancel</button>
              <button id="confirm-purchase-btn" type="button" class="w-full inline-flex justify-center items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500">Proceed to WhatsApp</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  </form>
Â  Â  Â  Â  </div>
Â  Â  Â  </div>
Â  Â  </div>
Â  </div>

Â  <script>
Â  Â  // Product data (kept from your original input)
Â  Â  const products = [
Â  Â  Â  {
Â  Â  Â  Â  category: "NON VEG PICKLES",
Â  Â  Â  Â  items: [
Â  Â  Â  Â  Â  { name: "Chicken Pickle", imageUrl: "assets/2.jpg", options: [{ size: "250g", price: 250 }, { size: "500g", price: 500 }, { size: "1000g", price: 1000 }] },
Â  Â  Â  Â  Â  { name: "Spiced Chicken Relish Pickle", imageUrl: "assets/7.jpg", options: [{ size: "250g", price: 250 }, { size: "500g", price: 500 }, { size: "1000g", price: 1000 }] },
Â  Â  Â  Â  Â  { name: "Prawn Pickle", imageUrl: "assets/14.jpg", options: [{ size: "250g", price: 500 }, { size: "500g", price: 1000 }, { size: "1000g", price: 2000 }] }
Â  Â  Â  Â  ]
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  category: "VEG PICKLES",
Â  Â  Â  Â  items: [
Â  Â  Â  Â  Â  { name: "Tomato Pickle", imageUrl: "assets/12.jpg", options: [{ size: "250g", price: 150 }, { size: "500g", price: 300 }, { size: "1000g", price: 600 }] },
Â  Â  Â  Â  Â  { name: "Sorrel Leaves Pickle", imageUrl: "assets/13.jpg", options: [{ size: "250g", price: 150 }, { size: "500g", price: 300 }, { size: "1000g", price: 600 }] }
Â  Â  Â  Â  ]
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  category: "SWEETS",
Â  Â  Â  Â  items: [
Â  Â  Â  Â  Â  { name: "Peanut Chikki", imageUrl: "assets/9.jpg", options: [{ size: "500g", price: 200 }, { size: "1kg", price: 400 }] },
Â  Â  Â  Â  Â  { name: "Dry Fruit Chikki", imageUrl: "assets/4.jpg", options: [{ size: "500g", price: 400 }, { size: "1kg", price: 800 }] },
Â  Â  Â  Â  Â  { name: "Cashew Chikki", imageUrl: "assets/5.jpg", options: [{ size: "500g", price: 400 }, { size: "1kg", price: 800 }] },
Â  Â  Â  Â  Â  { name: "URAD DAL LADDU", imageUrl: "assets/6.jpg", options: [{ size: "250g", price: 150 }, { size: "500g", price: 300 }, { size: "1000g", price: 600 }] },
Â  Â  Â  Â  Â  { name: "DRY FRUIT LADDU", imageUrl: "assets/10.jpg", options: [{ size: "250g", price: 450 }, { size: "500g", price: 900 }, { size: "1000g", price: 1800 }] }
Â  Â  Â  Â  ]
Â  Â  Â  },
Â  Â  Â  {
Â  Â  Â  Â  category: "VEG POWDERS",
Â  Â  Â  Â  items: [
Â  Â  Â  Â  Â  { name: "Curry Leaves Powder", imageUrl: "assets/8.jpg", options: [{ size: "100g", price: 50 }, { size: "250g", price: 125 }, { size: "500g", price: 250 }] },
Â  Â  Â  Â  Â  { name: "Spiced Sesame Powder", imageUrl: "assets/11.jpg", options: [{ size: "100g", price: 70 }, { size: "250g", price: 175 }, { size: "500g", price: 350 }] },
Â  Â  Â  Â  Â  { name: "Spiced Lentil Powder", imageUrl: "assets/3.jpg", options: [{ size: "100g", price: 70 }, { size: "250g", price: 175 }, { size: "500g", price: 350 }] }
Â  Â  Â  Â  ]
Â  Â  Â  }
Â  Â  ];

Â  Â  // DOM references
Â  Â  const productsGrid = document.getElementById('products-grid');
Â  Â  const purchaseModal = document.getElementById('purchase-modal');
Â  Â  const modalBackdrop = purchaseModal.querySelector('.modal-backdrop');
Â  Â  const modalProductSummary = document.getElementById('modal-product-summary');
Â  Â  const modalNameInput = document.getElementById('modal-name');
Â  Â  const modalPhoneInput = document.getElementById('modal-phone');
Â  Â  const modalAddressInput = document.getElementById('modal-address');
Â  Â  const saveInfoCheckbox = document.getElementById('save-info');
Â  Â  const confirmPurchaseBtn = document.getElementById('confirm-purchase-btn');
Â  Â  const cancelPurchaseBtn = document.getElementById('cancel-purchase-btn');
Â  Â  const openCatalogBtn = document.getElementById('open-catalog-btn');

Â  Â  // Keep current order info in memory
Â  Â  let currentOrder = null;

    // --- Custom Notification/Alert Logic (Replaces alert()) ---

    /**
     * Displays a temporary notification message at the top of the screen.
     * @param {string} message - The message to display.
     */
    function showNotification(message) {
        // Remove any existing notifications
        document.querySelectorAll('.custom-notification').forEach(n => n.remove());

        const notificationDiv = document.createElement('div');
        notificationDiv.className = 'custom-notification p-4 bg-red-500 text-white rounded-lg shadow-xl mt-4 animate-in fade-in slide-in-from-top-4 duration-300';
        
        notificationDiv.innerHTML = `
            <div class="flex items-center justify-between">
                <p class="font-medium text-sm">${message}</p>
                <button class="text-white opacity-70 hover:opacity-100 transition-opacity" onclick="this.closest('.custom-notification').remove()" aria-label="Close notification">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>
                </button>
            </div>
        `;
        document.body.appendChild(notificationDiv);

        // Auto-dismiss after 5 seconds
        setTimeout(() => {
            notificationDiv.remove();
        }, 5000);
    }

    // --- End Custom Notification Logic ---


Â  Â  // Utility: create slug id
Â  Â  function makeId(text){
Â  Â  Â  return text.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/(^-|-$)/g,'');
Â  Â  }

Â  Â  // Render categories and products responsively
Â  Â  function renderProducts(){
Â  Â  Â  productsGrid.innerHTML = '';
Â  Â  Â  products.forEach((category) => {
Â  Â  Â  Â  const section = document.createElement('section');
Â  Â  Â  Â  section.className = 'bg-white rounded-xl shadow-md p-4 sm:p-6';

Â  Â  Â  Â  const header = document.createElement('div');
Â  Â  Â  Â  header.className = 'flex items-center justify-between mb-4 pb-2 border-b border-gray-100';
Â  Â  Â  Â  header.innerHTML = `<h2 class="text-lg font-semibold text-gray-900">${category.category}</h2>`;
Â  Â  Â  Â  section.appendChild(header);

Â  Â  Â  Â  // Centered grid
Â  Â  Â  Â  const grid = document.createElement('div');
Â  Â  Â  Â  grid.className = 'grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 justify-items-center';

Â  Â  Â  Â  category.items.forEach((item, idx) => {
Â  Â  Â  Â  Â  const card = createProductCard(category.category, item, idx);
Â  Â  Â  Â  Â  grid.appendChild(card);
Â  Â  Â  Â  });

Â  Â  Â  Â  section.appendChild(grid);
Â  Â  Â  Â  productsGrid.appendChild(section);
Â  Â  Â  });
Â  Â  }

Â  Â  // Create each product card (accessible & responsive)
Â  Â  function createProductCard(category, item, index){
Â  Â  Â  const uid = makeId(item.name + '-' + index);

Â  Â  Â  const card = document.createElement('article');
Â  Â  Â  card.className = 'product-card bg-white rounded-2xl shadow-lg hover:shadow-xl w-full max-w-xs transition-transform transform hover:-translate-y-1 flex flex-col overflow-hidden';
Â  Â  Â  card.setAttribute('aria-labelledby', `title-${uid}`);

Â  Â  Â  // Image area
Â  Â  Â  const imgWrap = document.createElement('div');
Â  Â  Â  imgWrap.className = 'w-full h-32 sm:h-36 bg-gray-100 overflow-hidden'; // Smaller image height
Â  Â  Â  const img = document.createElement('img');
Â  Â  Â  img.src = item.imageUrl;
Â  Â  Â  img.alt = item.name + ' - ' + category;
Â  Â  Â  img.loading = 'lazy';
Â  Â  Â  img.className = 'w-full h-full object-cover';
Â  Â  Â  // fallback inline svg if image missing
Â  Â  Â  img.onerror = function(){ this.onerror = null; this.src = "data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='600' height='400'><rect width='100%' height='100%' fill='%23e5e7eb'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' fill='%239ca3af' font-family='Inter' font-size='20'>V Love Food</text></svg>"; }
Â  Â  Â  imgWrap.appendChild(img);
Â  Â  Â  card.appendChild(imgWrap);

Â  Â  Â  // Card body
Â  Â  Â  const body = document.createElement('div');
Â  Â  Â  body.className = 'p-3 sm:p-4 flex-1 flex flex-col'; // Reduced padding

Â  Â  Â  const title = document.createElement('h3');
Â  Â  Â  title.id = `title-${uid}`;
Â  Â  Â  title.className = 'text-sm sm:text-base font-semibold text-gray-900 mb-1'; // Smaller font
Â  Â  Â  title.textContent = item.name;
Â  Â  Â  body.appendChild(title);

Â  Â  Â  const cat = document.createElement('p');
Â  Â  Â  cat.className = 'text-xs text-gray-500 mb-3';
Â  Â  Â  cat.textContent = category;
Â  Â  Â  body.appendChild(cat);

Â  Â  Â  // Options (radiogroup-like buttons)
Â  Â  Â  const optionsWrap = document.createElement('div');
Â  Â  Â  optionsWrap.className = 'flex flex-wrap gap-1 mb-3';
Â  Â  Â  optionsWrap.setAttribute('role','radiogroup');
Â  Â  Â  optionsWrap.setAttribute('aria-label', item.name + ' sizes');

Â  Â  Â  item.options.forEach((opt, i) => {
Â  Â  Â  Â  const btn = document.createElement('button');
Â  Â  Â  Â  btn.type = 'button';
Â  Â  Â  Â  btn.className = 'price-option inline-flex items-center text-xs border border-gray-300 px-2 py-0.5 rounded-full font-medium focus:outline-none focus:ring-2 focus:ring-indigo-400'; // Smaller buttons
Â  Â  Â  Â  btn.textContent = `${opt.size} - â‚¹${opt.price}`;
Â  Â  Â  Â  btn.setAttribute('data-size', opt.size);
Â  Â  Â  Â  btn.setAttribute('data-price', opt.price);
Â  Â  Â  Â  btn.setAttribute('role','radio');
Â  Â  Â  Â  btn.setAttribute('aria-checked', i===0 ? 'true' : 'false');
Â  Â  Â  Â  btn.tabIndex = 0;
Â  Â  Â  Â  if(i===0) btn.classList.add('bg-indigo-600','text-white','border-indigo-600');

Â  Â  Â  Â  // pointer + keyboard
Â  Â  Â  Â  btn.addEventListener('click', () => selectOption(btn, optionsWrap));
Â  Â  Â  Â  btn.addEventListener('keydown', (e) => { if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); btn.click(); } });

Â  Â  Â  Â  optionsWrap.appendChild(btn);
Â  Â  Â  });

Â  Â  Â  body.appendChild(optionsWrap);

Â  Â  Â  // Price & actions
Â  Â  Â  const footer = document.createElement('div');
Â  Â  Â  footer.className = 'mt-auto pt-3 border-t border-gray-100 flex items-center justify-between';

Â  Â  Â  const price = document.createElement('p');
Â  Â  Â  price.className = 'text-base font-bold text-indigo-600'; // Smaller price font
Â  Â  Â  price.textContent = 'â‚¹' + item.options[0].price;
Â  Â  Â  price.id = `price-${uid}`;
Â  Â  Â  footer.appendChild(price);

Â  Â  Â  const buyBtn = document.createElement('button');
Â  Â  Â  buyBtn.className = 'buy-now inline-flex items-center px-3 py-1.5 rounded-full bg-indigo-600 text-white text-sm font-medium hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 shadow-md';
Â  Â  Â  buyBtn.textContent = 'Buy Now';
Â  Â  Â  buyBtn.addEventListener('click', () => {
Â  Â  Â  Â  // determine selected option
Â  Â  Â  Â  const active = optionsWrap.querySelector('[aria-checked="true"]');
Â  Â  Â  Â  const sel = { size: active.getAttribute('data-size'), price: active.getAttribute('data-price') };
Â  Â  Â  Â  showPurchaseModal(item.name, sel);
Â  Â  Â  });

Â  Â  Â  footer.appendChild(buyBtn);
Â  Â  Â  body.appendChild(footer);

Â  Â  Â  card.appendChild(body);
Â  Â  Â  return card;
Â  Â  }

Â  Â  function selectOption(button, container){
Â  Â  Â  container.querySelectorAll('[role="radio"]').forEach(b => {
Â  Â  Â  Â  b.setAttribute('aria-checked','false');
Â  Â  Â  Â  b.classList.remove('bg-indigo-600','text-white','border-indigo-600');
        b.classList.add('text-gray-600', 'hover:bg-gray-50');
Â  Â  Â  });
Â  Â  Â  button.setAttribute('aria-checked','true');
Â  Â  Â  button.classList.add('bg-indigo-600','text-white','border-indigo-600');
      button.classList.remove('text-gray-600', 'hover:bg-gray-50');

Â  Â  Â  // update price display nearby
Â  Â  Â  const card = button.closest('.product-card');
Â  Â  Â  const priceEl = card.querySelector('[id^="price-"]');
Â  Â  Â  if(priceEl) priceEl.textContent = 'â‚¹' + button.getAttribute('data-price');
Â  Â  }

Â  Â  // Show modal and pre-fill fields with localStorage saved values (if any)
Â  Â  function showPurchaseModal(productName, selectedOption){
Â  Â  Â  currentOrder = { productName, ...selectedOption };
Â  Â  Â  modalProductSummary.innerHTML = `<span class="font-semibold">${productName}</span> â€¢ ${selectedOption.size} â€¢ <span class="text-indigo-600 font-bold">â‚¹${selectedOption.price}</span>`;

Â  Â  Â  // Populate saved info
Â  Â  Â  const savedName = localStorage.getItem('vlove_name');
Â  Â  Â  const savedPhone = localStorage.getItem('vlove_phone');
Â  Â  Â  const savedAddress = localStorage.getItem('vlove_address');
Â  Â  Â  if(savedName) modalNameInput.value = savedName;
Â  Â  Â  if(savedPhone) modalPhoneInput.value = savedPhone;
Â  Â  Â  if(savedAddress) modalAddressInput.value = savedAddress;
      
      // Set checkbox status based on whether fields were pre-filled
      saveInfoCheckbox.checked = !!savedName || !!savedPhone || !!savedAddress;

Â  Â  Â  purchaseModal.classList.remove('hidden');
Â  Â  Â  document.body.classList.add('overflow-hidden');

Â  Â  Â  // focus first field
Â  Â  Â  setTimeout(()=> modalNameInput.focus(), 100);
Â  Â  }

Â  Â  function closePurchaseModal(){
Â  Â  Â  purchaseModal.classList.add('hidden');
Â  Â  Â  document.body.classList.remove('overflow-hidden');
Â  Â  Â  currentOrder = null;
Â  Â  }

Â  Â  // validate Indian phone (allow +91 or leading 0) - basic check
Â  Â  function isValidIndianPhone(phone){
Â  Â  Â  const cleaned = phone.replace(/\s|-/g,'');
Â  Â  Â  return /^(?:\+91|0)?[6-9]\d{9}$/.test(cleaned);
Â  Â  }

Â  Â  // Build WhatsApp URL and open new tab/window
Â  Â  function sendWhatsAppOrder(name, phone, address){
Â  Â  Â  if(!currentOrder) return;
Â  Â  Â  const message = `Hello, I would like to order:%0A%0A*Product:* ${encodeURIComponent(currentOrder.productName)}%0A*Quantity:* ${encodeURIComponent(currentOrder.size)}%0A*Price:* â‚¹${encodeURIComponent(currentOrder.price)}%0A%0A*Customer Details:*%0AName: ${encodeURIComponent(name)}%0APhone: ${encodeURIComponent(phone)}%0AAddress: ${encodeURIComponent(address)}`;
Â  Â  Â  // seller number
Â  Â  Â  const seller = '919346445057';
Â  Â  Â  const url = `https://api.whatsapp.com/send?phone=${seller}&text=${message}`;
Â  Â  Â  window.open(url, '_blank');
Â  Â  }

Â  Â  // Event handlers
Â  Â  confirmPurchaseBtn.addEventListener('click', () => {
Â  Â  Â  const name = modalNameInput.value.trim();
Â  Â  Â  const phone = modalPhoneInput.value.trim();
Â  Â  Â  const address = modalAddressInput.value.trim();

Â  Â  Â  if(!name || !phone || !address){
Â  Â  Â  Â  showNotification('Please fill in all required fields.');
Â  Â  Â  Â  return;
Â  Â  Â  }
Â  Â  Â  if(!isValidIndianPhone(phone)){
Â  Â  Â  Â  showNotification('Please enter a valid 10-digit Indian phone number.');
Â  Â  Â  Â  modalPhoneInput.focus();
Â  Â  Â  Â  return;
Â  Â  Â  }

Â  Â  Â  // optionally save
Â  Â  Â  if(saveInfoCheckbox.checked){
Â  Â  Â  Â  localStorage.setItem('vlove_name', name);
Â  Â  Â  Â  localStorage.setItem('vlove_phone', phone);
Â  Â  Â  Â  localStorage.setItem('vlove_address', address);
Â  Â  Â  } else {
        // If unchecked, clear storage to ensure no pre-fill next time
        localStorage.removeItem('vlove_name');
        localStorage.removeItem('vlove_phone');
        localStorage.removeItem('vlove_address');
      }

Â  Â  Â  sendWhatsAppOrder(name, phone, address);
Â  Â  Â  closePurchaseModal();
Â  Â  });

Â  Â  cancelPurchaseBtn.addEventListener('click', closePurchaseModal);

Â  Â  // clicking the backdrop closes the modal
Â  Â  modalBackdrop.addEventListener('click', closePurchaseModal);

Â  Â  // Escape key to close
Â  Â  window.addEventListener('keydown', (e) => { if(e.key === 'Escape' && !purchaseModal.classList.contains('hidden')) closePurchaseModal(); });

Â  Â  // Open catalog button scrolls to products
Â  Â  openCatalogBtn.addEventListener('click', () => { window.scrollTo({ top: document.getElementById('products-grid').offsetTop - 80, behavior: 'smooth' }); });

Â  Â  // initial render
Â  Â  renderProducts();
Â  </script>

</body>
</html>
